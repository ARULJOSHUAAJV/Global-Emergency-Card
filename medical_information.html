<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medical Information - Global Emergency Card</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fglobaleme1676back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Header -->
    <header class="bg-primary text-white shadow-floating sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Medical Information</h1>
                        <p class="text-red-100 text-sm">Health Data Management</p>
                    </div>
                </div>

                <!-- Navigation Menu -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="dashboard.html" class="text-red-100 hover:text-white transition-colors duration-200">Dashboard</a>
                    <a href="emergency_quick_access.html" class="text-red-100 hover:text-white transition-colors duration-200">Emergency Access</a>
                    <a href="emergency_contacts.html" class="text-red-100 hover:text-white transition-colors duration-200">Contacts</a>
                    <a href="country_emergency_numbers.html" class="text-red-100 hover:text-white transition-colors duration-200">Emergency Numbers</a>
                    <a href="qr_code_generator.html" class="text-red-100 hover:text-white transition-colors duration-200">QR Code</a>
                </nav>

                <!-- Mobile Menu Button -->
                <button class="md:hidden text-white p-2" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden pb-4">
                <div class="flex flex-col space-y-2">
                    <a href="dashboard.html" class="text-red-100 hover:text-white py-2 transition-colors duration-200">Dashboard</a>
                    <a href="emergency_quick_access.html" class="text-red-100 hover:text-white py-2 transition-colors duration-200">Emergency Access</a>
                    <a href="emergency_contacts.html" class="text-red-100 hover:text-white py-2 transition-colors duration-200">Contacts</a>
                    <a href="country_emergency_numbers.html" class="text-red-100 hover:text-white py-2 transition-colors duration-200">Emergency Numbers</a>
                    <a href="qr_code_generator.html" class="text-red-100 hover:text-white py-2 transition-colors duration-200">QR Code</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- Page Header -->
        <section class="mb-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between mb-6">
                <div>
                    <h2 class="text-3xl font-bold text-text-primary mb-2">Medical Information</h2>
                    <p class="text-text-secondary">Manage your comprehensive health details for emergency situations</p>
                </div>
                <div class="flex items-center space-x-4 mt-4 md:mt-0">
                    <div class="flex items-center space-x-2 text-success">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <span class="text-sm font-medium">Auto-saved</span>
                    </div>
                    <span class="text-text-muted text-sm">Last updated: Sep 29, 2025</span>
                </div>
            </div>
        </section>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Medical Information Form -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Personal Details Section -->
                <section class="medical-card">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-secondary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-secondary" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-text-primary">Personal Details</h3>
                        </div>
                        <button onclick="toggleSection('personal')" class="text-text-secondary hover:text-text-primary transition-colors duration-200">
                            <svg id="personal-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="personal-content" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Full Name *</label>
                                <input type="text" id="fullName" class="form-input" placeholder="Enter your full name" value="John Doe" required />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Date of Birth *</label>
                                <input type="date" id="dateOfBirth" class="form-input" value="1985-03-15" required />
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Blood Type *</label>
                                <select id="bloodType" class="form-input" required>
                                    <option value>Select blood type</option>
                                    <option value="A+" selected>A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Height</label>
                                <input type="text" id="height" class="form-input" placeholder="e.g., 5'10&quot; or 178cm" value="5'10&quot;" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Weight</label>
                                <input type="text" id="weight" class="form-input" placeholder="e.g., 170 lbs or 77 kg" value="170 lbs" />
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Gender</label>
                            <select id="gender" class="form-input">
                                <option value>Select gender</option>
                                <option value="Male" selected>Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                                <option value="Prefer not to say">Prefer not to say</option>
                            </select>
                        </div>
                    </div>
                </section>

                <!-- Medical Conditions Section -->
                <section class="medical-card">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-warning-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-warning" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-text-primary">Medical Conditions</h3>
                        </div>
                        <button onclick="toggleSection('conditions')" class="text-text-secondary hover:text-text-primary transition-colors duration-200">
                            <svg id="conditions-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="conditions-content" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Current Medical Conditions</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border text-secondary focus:ring-secondary-100" checked />
                                    <span class="ml-2 text-text-primary">Type 2 Diabetes</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border text-secondary focus:ring-secondary-100" />
                                    <span class="ml-2 text-text-primary">Hypertension</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border text-secondary focus:ring-secondary-100" />
                                    <span class="ml-2 text-text-primary">Heart Disease</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border text-secondary focus:ring-secondary-100" />
                                    <span class="ml-2 text-text-primary">Asthma</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border text-secondary focus:ring-secondary-100" />
                                    <span class="ml-2 text-text-primary">Epilepsy</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Additional Medical Conditions</label>
                            <textarea id="additionalConditions" class="form-input" rows="3" placeholder="Describe any other medical conditions, surgeries, or relevant medical history...">Diagnosed with Type 2 Diabetes in 2018. Well-controlled with medication and diet.</textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Date of Diagnosis</label>
                            <input type="text" id="diagnosisDate" class="form-input" placeholder="e.g., March 2018" value="March 2018" />
                        </div>
                    </div>
                </section>

                <!-- Current Medications Section -->
                <section class="medical-card">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-success-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-success" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9l-5.91.74L12 16l-4.09-6.26L2 9l6.91-.74L12 2zM12 15.5l-3.5-2.5 1.5-1.5L12 13.5l2-2 1.5 1.5L12 15.5z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-text-primary">Current Medications</h3>
                        </div>
                        <button onclick="toggleSection('medications')" class="text-text-secondary hover:text-text-primary transition-colors duration-200">
                            <svg id="medications-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="medications-content" class="space-y-4">
                        <div id="medicationsList" class="space-y-4">
                            <!-- Medication 1 -->
                            <div class="bg-gray-50 rounded-lg p-4 border border-border-light">
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-text-primary mb-1">Medication Name</label>
                                        <input type="text" class="form-input" placeholder="e.g., Metformin" value="Metformin" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-text-primary mb-1">Dosage</label>
                                        <input type="text" class="form-input" placeholder="e.g., 500mg" value="500mg" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-text-primary mb-1">Frequency</label>
                                        <select class="form-input">
                                            <option value="Once daily">Once daily</option>
                                            <option value="Twice daily" selected>Twice daily</option>
                                            <option value="Three times daily">Three times daily</option>
                                            <option value="As needed">As needed</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <label class="block text-sm font-medium text-text-primary mb-1">Notes</label>
                                    <input type="text" class="form-input" placeholder="Additional notes..." value="Take with meals" />
                                </div>
                            </div>

                            <!-- Medication 2 -->
                            <div class="bg-gray-50 rounded-lg p-4 border border-border-light">
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-text-primary mb-1">Medication Name</label>
                                        <input type="text" class="form-input" placeholder="e.g., Lisinopril" value="Lisinopril" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-text-primary mb-1">Dosage</label>
                                        <input type="text" class="form-input" placeholder="e.g., 10mg" value="10mg" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-text-primary mb-1">Frequency</label>
                                        <select class="form-input">
                                            <option value="Once daily" selected>Once daily</option>
                                            <option value="Twice daily">Twice daily</option>
                                            <option value="Three times daily">Three times daily</option>
                                            <option value="As needed">As needed</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <label class="block text-sm font-medium text-text-primary mb-1">Notes</label>
                                    <input type="text" class="form-input" placeholder="Additional notes..." value="Morning dose" />
                                </div>
                            </div>
                        </div>

                        <button onclick="addMedication()" class="inline-flex items-center px-4 py-2 bg-success text-white rounded-lg hover:bg-success-700 transition-colors duration-200">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                            </svg>
                            Add Medication
                        </button>
                    </div>
                </section>

                <!-- Allergies Section -->
                <section class="medical-card">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-error-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-error" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-text-primary">Allergies & Reactions</h3>
                        </div>
                        <button onclick="toggleSection('allergies')" class="text-text-secondary hover:text-text-primary transition-colors duration-200">
                            <svg id="allergies-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="allergies-content" class="space-y-4">
                        <div class="bg-error-50 border border-error-200 rounded-lg p-4">
                            <div class="flex items-center mb-3">
                                <svg class="w-5 h-5 text-error mr-2" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                                </svg>
                                <span class="font-semibold text-error">Critical Allergies</span>
                            </div>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-sm font-medium text-text-primary mb-2">Drug Allergies</label>
                                    <textarea class="form-input" rows="2" placeholder="List any drug allergies and reactions...">Penicillin - Severe allergic reaction (anaphylaxis)</textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-text-primary mb-2">Food Allergies</label>
                                    <textarea class="form-input" rows="2" placeholder="List any food allergies and reactions...">Shellfish - Hives and difficulty breathing</textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-text-primary mb-2">Environmental Allergies</label>
                                    <textarea class="form-input" rows="2" placeholder="List any environmental allergies...">Bee stings - Severe swelling</textarea>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Other Allergies or Sensitivities</label>
                            <textarea class="form-input" rows="3" placeholder="Describe any other allergies, sensitivities, or adverse reactions..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- Emergency Instructions Section -->
                <section class="medical-card">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9l-5.91.74L12 16l-4.09-6.26L2 9l6.91-.74L12 2zM12 15.5l-3.5-2.5 1.5-1.5L12 13.5l2-2 1.5 1.5L12 15.5z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-text-primary">Emergency Instructions</h3>
                        </div>
                        <button onclick="toggleSection('instructions')" class="text-text-secondary hover:text-text-primary transition-colors duration-200">
                            <svg id="instructions-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="instructions-content" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Special Medical Instructions</label>
                            <textarea class="form-input" rows="4" placeholder="Provide specific instructions for emergency responders...">In case of emergency:
1. Check blood sugar levels if unconscious
2. Administer glucose if hypoglycemic
3. Contact Dr. Sarah Johnson immediately
4. Avoid giving Penicillin-based medications</textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Preferred Hospital</label>
                            <input type="text" class="form-input" placeholder="Enter preferred hospital name" value="St. Mary's Medical Center" />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Do Not Resuscitate (DNR)</label>
                            <select class="form-input">
                                <option value="No" selected>No DNR order</option>
                                <option value="Yes">Yes, DNR order in place</option>
                                <option value="Partial">Partial DNR order</option>
                            </select>
                        </div>
                    </div>
                </section>

                <!-- Insurance Information Section -->
                <section class="medical-card">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-accent-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-accent" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-text-primary">Insurance Information</h3>
                        </div>
                        <button onclick="toggleSection('insurance')" class="text-text-secondary hover:text-text-primary transition-colors duration-200">
                            <svg id="insurance-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="insurance-content" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Insurance Provider</label>
                                <input type="text" class="form-input" placeholder="e.g., Blue Cross Blue Shield" value="Blue Cross Blue Shield" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Policy Number</label>
                                <input type="text" class="form-input" placeholder="Enter policy number" value="BC123456789" />
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Group Number</label>
                                <input type="text" class="form-input" placeholder="Enter group number" value="GRP001" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-text-primary mb-2">Member ID</label>
                                <input type="text" class="form-input" placeholder="Enter member ID" value="MEM123456" />
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">Insurance Phone Number</label>
                            <input type="tel" class="form-input" placeholder="e.g., +1 (800) 555-0123" value="+1 (800) 555-0123" />
                        </div>
                    </div>
                </section>
            </div>

            <!-- Preview Panel -->
            <div class="lg:col-span-1">
                <div class="sticky top-24 space-y-6">
                    <!-- Emergency Display Preview -->
                    <div class="medical-card">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-text-primary">Emergency Display Preview</h3>
                            <span class="status-indicator success">Live Preview</span>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4 border-2 border-dashed border-border">
                            <div class="text-center mb-4">
                                <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-3">
                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9l-5.91.74L12 16l-4.09-6.26L2 9l6.91-.74L12 2z"/>
                                    </svg>
                                </div>
                                <h4 class="font-bold text-text-primary">EMERGENCY MEDICAL INFO</h4>
                            </div>
                            
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="font-medium">Name:</span>
                                    <span class="data-display">John Doe</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Blood Type:</span>
                                    <span class="data-display text-primary font-bold">A+</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">DOB:</span>
                                    <span class="data-display">03/15/1985</span>
                                </div>
                                <div class="mt-3">
                                    <span class="font-medium text-error">Allergies:</span>
                                    <p class="data-display text-error text-xs mt-1">Penicillin, Shellfish</p>
                                </div>
                                <div class="mt-3">
                                    <span class="font-medium text-warning">Conditions:</span>
                                    <p class="data-display text-warning text-xs mt-1">Type 2 Diabetes</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- QR Code Preview -->
                    <div class="medical-card">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-text-primary">QR Code Preview</h3>
                            <a href="qr_code_generator.html" class="text-secondary hover:text-secondary-700 text-sm font-medium">Generate</a>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-32 h-32 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=EMERGENCY%20MEDICAL%20INFO%0AName:%20John%20Doe%0ABlood%20Type:%20A+%0AAllergies:%20Penicillin,%20Shellfish%0AConditions:%20Type%202%20Diabetes%0AEmergency%20Contact:%20555-0123" alt="Medical Information QR Code" class="w-full h-full object-contain rounded-lg" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            </div>
                            <p class="text-text-secondary text-sm">Scannable by emergency responders</p>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="medical-card">
                        <h3 class="text-lg font-bold text-text-primary mb-4">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="saveData()" class="emergency-button w-full">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"/>
                                </svg>
                                Save Information
                            </button>
                            
                            <button onclick="clearForm()" class="bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors duration-200 w-full">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                </svg>
                                Clear Form
                            </button>
                            
                            <a href="qr_code_generator.html" class="inline-flex items-center justify-center w-full px-6 py-3 bg-secondary text-white rounded-lg hover:bg-secondary-700 transition-colors duration-200">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                Generate QR Code
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Emergency Button -->
    <div class="floating-action animate-pulse-emergency" onclick="window.location.href='emergency_quick_access.html'">
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
        </svg>
    </div>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        }

        // Section toggle functionality
        function toggleSection(sectionName) {
            const content = document.getElementById(`${sectionName}-content`);
            const icon = document.getElementById(`${sectionName}-icon`);
            
            content.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }

        // Add medication functionality
        function addMedication() {
            const medicationsList = document.getElementById('medicationsList');
            const newMedication = document.createElement('div');
            newMedication.className = 'bg-gray-50 rounded-lg p-4 border border-border-light';
            newMedication.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-text-primary mb-1">Medication Name</label>
                        <input type="text" class="form-input" placeholder="e.g., Medication name">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-text-primary mb-1">Dosage</label>
                        <input type="text" class="form-input" placeholder="e.g., 500mg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-text-primary mb-1">Frequency</label>
                        <select class="form-input">
                            <option value="Once daily">Once daily</option>
                            <option value="Twice daily">Twice daily</option>
                            <option value="Three times daily">Three times daily</option>
                            <option value="As needed">As needed</option>
                        </select>
                    </div>
                </div>
                <div class="mt-3 flex items-center justify-between">
                    <div class="flex-1 mr-4">
                        <label class="block text-sm font-medium text-text-primary mb-1">Notes</label>
                        <input type="text" class="form-input" placeholder="Additional notes...">
                    </div>
                    <button onclick="removeMedication(this)" class="mt-6 px-3 py-2 bg-error text-white rounded-lg hover:bg-error-700 transition-colors duration-200">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    </button>
                </div>
            `;
            medicationsList.appendChild(newMedication);
        }

        // Remove medication functionality
        function removeMedication(button) {
            button.closest('.bg-gray-50').remove();
        }

        // Save data functionality
        function saveData() {
            // Simulate saving data
            const saveButton = event.target;
            const originalText = saveButton.innerHTML;
            
            saveButton.innerHTML = `
                <svg class="w-5 h-5 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                Saving...
            `;
            
            setTimeout(() => {
                saveButton.innerHTML = `
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    Saved Successfully
                `;
                
                setTimeout(() => {
                    saveButton.innerHTML = originalText;
                }, 2000);
            }, 1000);
        }

        // Clear form functionality
        function clearForm() {
            if (confirm('Are you sure you want to clear all medical information? This action cannot be undone.')) {
                // Clear all form inputs
                const inputs = document.querySelectorAll('input[type="text"], input[type="date"], input[type="tel"], textarea, select');
                inputs.forEach(input => {
                    if (input.type === 'checkbox') {
                        input.checked = false;
                    } else {
                        input.value = '';
                    }
                });
                
                // Reset medication list to empty
                const medicationsList = document.getElementById('medicationsList');
                medicationsList.innerHTML = '';
                
                alert('Medical information has been cleared.');
            }
        }

        // Auto-save functionality
        let autoSaveTimeout;
        function autoSave() {
            clearTimeout(autoSaveTimeout);
            autoSaveTimeout = setTimeout(() => {
                // Simulate auto-save
                console.log('Auto-saving medical information...');
            }, 2000);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Add auto-save listeners to all form inputs
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('input', autoSave);
                input.addEventListener('change', autoSave);
            });

            // Initialize all sections as expanded
            const sections = ['personal', 'conditions', 'medications', 'allergies', 'instructions', 'insurance'];
            sections.forEach(section => {
                const content = document.getElementById(`${section}-content`);
                const icon = document.getElementById(`${section}-icon`);
                if (content && icon) {
                    content.classList.remove('hidden');
                    icon.classList.add('rotate-180');
                }
            });

            console.log('Medical Information page loaded');
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>
